% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/NestNetR.R
\name{preprocessing}
\alias{preprocessing}
\title{Prepare breeding-period biologger data for model input}
\usage{
preprocessing(
  ID,
  raw_light,
  raw_deg,
  tm.breeding,
  tz = "UTC",
  segment_days = 1,
  overlap_days = 1,
  Light_quantiles = c(0.9478656, 11.2115639),
  Tmin_quantiles = c(-2.8, 23.5),
  Tmax_quantiles = c(3, 40.8)
)
}
\arguments{
\item{ID}{Character scalar; \strong{individual or deployment identifier} used to tag
all resulting segments.}

\item{raw_light}{Data frame with POSIXct column \code{Date} (from
\code{read_light()}), containing \strong{log-transformed light data}.}

\item{raw_deg}{Data frame with POSIXct column \code{Date} (from
\code{read_deg()}), containing \strong{minimum and maximum temperature readings}
derived from the same logger.}

\item{tm.breeding}{Named vector of class \code{Date} (length 2; names
\code{start}, \code{end}) defining the breeding period boundaries
(typically returned by \code{set_breeding_period()}).}

\item{tz}{Character scalar; time zone to which timestamps are converted
(default \code{"UTC"}).}

\item{segment_days}{Integer; duration of one analysis window in days
(default = \strong{1 day}, corresponding to 288 five-minute steps).}

\item{overlap_days}{Integer; overlap between consecutive segments in days
(default = \strong{1 day}, i.e. fully overlapping daily windows).}

\item{Light_quantiles}{Numeric vector (length 2); lower and upper quantiles used
for \strong{light-value rescaling} (defaults based on the 2.5 \% and 97.5 \%
percentiles across the Ruddy Turnstone dataset).}

\item{Tmin_quantiles}{Numeric vector (length 2); analogous quantiles for
minimum temperature.}

\item{Tmax_quantiles}{Numeric vector (length 2); analogous quantiles for
maximum temperature.}

\item{dir.breeding}{Character scalar; directory where processed data could be
stored (currently unused but reserved for optional export as \code{.csv}).}
}
\value{
A \strong{list of flattened segment objects}, each containing:
\describe{
\item{Light, Tmin, Tmax}{Numeric vectors (length = segment_days × 288)
scaled to 0–1 range.}
\item{ID}{Character; deployment ID.}
\item{Window}{Sequential number of the segment.}
\item{Date}{Date corresponding to the segment start.}
}
\description{
\strong{Assembles, cleans, and segments biologger data for the Arctic breeding period}
into standardised time windows suitable for deep-learning classification.
Specifically, this function \strong{subsets light and temperature data to the inferred
breeding window, applies rescaling based on quantile ranges, and
generates overlapping, fixed-length segments (windows) representing continuous
sequences of biologger measurements.}
}
\details{
Light and temperature data are aligned, interpolated, and trimmed to the
breeding window before being split into overlapping windows of equal length.
Each variable is then rescaled using pre-defined empirical quantiles to ensure
comparability across individuals and seasons, matching the input expectations
of the CNN architecture.
}
\examples{
\donttest{
tm.breeding <- set_breeding_period(raw_light, raw_deg, ID = "D142")
breeding_data <- preprocessing("D142", raw_light, raw_deg, tm.breeding)
}

}
